\begin{notation}
    Let \( R \) be a commutative ring with identity.

    Then let \( G \Mod(R) \) denote the category of graded \( R \)-modules.
\end{notation}

\begin{notation}
    Let \( R \) be a commutative ring with identity.

    Then let
    \[
        H^*: C \tuple{\Mod(R)} \to G \Mod(R)
    \]
    be the cohomology functor.
\end{notation}

% SRC Künneth: https://ncatlab.org/nlab/show/K%C3%BCnneth+theorem
\begin{fact}
    \label{fact:massey_product_in_dg_cat/massey_product_definition/algebraic_kunneth_isomorphism}
    Considering objects of \( G \Mod(R) \) as chain complexes with a zero-differential, one can define a tensor product using \autoref{def:massey_product_in_dg_cat/what_is_a_dg_cat/tensor_product_of_chain_complexes}.

    Let \( A, B \in C \tuple{\Mod(R)} \).

    By the algebraic Künneth theorem when \( R \) is a field, there is an isomorphism
    \[
        \phi: H^*(A) \otimes H^*(B) \stackrel{\sim}{\to} H^*(A \otimes B)
    \]
    TODO
\end{fact}

% MS-Question: Does the composition definition work? Also TODO below.
% TODO: Find definition of composition that does not rely on kunneth isomorphism, but only the existance of a morphism. Ask MS!
\begin{definition}
    Let \( \Cc \) be a differentially graded category over a field \( R \), and let \( \phi \) be as in \autoref{fact:massey_product_in_dg_cat/massey_product_definition/algebraic_kunneth_isomorphism}.

    Let \( \Kc \) be the following (enriched over \( C\tuple{\Mod(R)} \)) category:
    \begin{enumerate}
        \item Let \( \Obj(\Kc) = \Obj(\Cc) \).
        \item For any \( A, B \in \Obj(\Kc) \), let \( \Kc(A, B) = H^* \tuple{\Cc(A, B)} \).
        \item {
            For any \( A, B, C \in \Obj(\Kc) \), for any \( f \in \Kc(A, B) \) and \( g \in \Kc(B, C) \)

            Let composition in \( \Kc \) be defined as follows
            \[
                \circ_{\Kc}: \Kc(B, C) \otimes \Kc(A, B) \to \Kc(A, C)
            \]
            where \( \circ_{\Kc} \) is the composition
            \begin{center}
                \begin{tikzpicture}
                    \diagram{m}{1cm}{1.3cm} {
                        \Kc(B, C) \otimes \Kc(A, B) & & \Kc(A, C) \\
                        H^*\tuple{\Cc(B, C)} \otimes H^*\tuple{\Cc(A, B)} & H^*\tuple{\Cc(B, C) \otimes \Cc(A, B)} & H^*\tuple{\Cc(A, C)} \\
                    };

                    \draw[math]
                        (m-1-1) edge[dashed] node {\circ_{\Kc}} (m-1-3)
                            edge[equal] (m-2-1)
                        (m-1-3) edge[equal] (m-2-3)
                        
                        (m-2-1) edge node {\phi} node[swap] {\sim} (m-2-2)
                        (m-2-2) edge node {H^*(\circ_{\Cc})} (m-2-3); 
                \end{tikzpicture}
            \end{center}
        }
    \end{enumerate}

    Then the category \( \Kc \) is denoted as \( H^*(\Cc) \).
\end{definition}

% TODO: Why is degrees preserved when choosing representatives?
% SRC: Wikipedia https://en.wikipedia.org/wiki/Massey_product and TODO:guessing
\begin{definition}
    \label{def:massey_product_in_dg_cat/massey_product_definition/massey_product_dg_cat}
    Let \( \Cc \) be a differentially graded category over \( R \).

    Let the following be a diagram in \( H^*(\Cc) \)
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{1cm} {
                X_1 & X_2 & X_3 & X_4 \\
            };

            \draw[math]
                (m-1-1) edge node {g_1} (m-1-2)
                (m-1-2) edge node {g_2} (m-1-3)
                (m-1-3) edge node {g_3} (m-1-4);
        \end{tikzpicture}
    \end{center}

    Where \( g_1, g_2 \) and \( g_3 \) are homogenous elements with degree \( d_1, d_2 \) and \( d_3 \) respectively.

    Then let \( f_1, f_2 \) and \( f_3 \) be homogeneous representatives of the equivalence class of \( g_1, g_2 \) and \( g_3 \) respectively. These will also have degree \( d_1, d_2 \) and \( d_3 \) respectively. I.e: \( H^*(f_1) = g_1, H^*(f_2) = g_2 \) and \( H^*(f_3) = g_3 \).

    Furthermore for a homogeneous element, \( h \) with degree \( d_h \), let \( \bar{h} := (-1)^{d_h + 1}h \).

    Then let:
    \[
        \set{
            H^* \tuple{
                \bar{s} \circ f_1 + \bar{f_3} \circ t
            }
            \mid
            d(s) = \bar{f_3} \circ f_2, \quad
            d(t) = \bar{f_2} \circ f_1
        }
    \]
    This is a subset of \( H^* \tuple{\Cc \tuple{X_1, X_4}} \), called the \emph{Massey product of \( g_3, g_2 \) and \( g_1 \)}, and is denoted as \( \toda{g_3, g_2, g_1 } \).
\end{definition}

\begin{theorem}
    The Massey product definition in \autoref{def:massey_product_in_dg_cat/massey_product_definition/massey_product_dg_cat} is well-defined.
\end{theorem}
\begin{proof}
    Want to show that for different choices of representatives, that the definition returns the same subset.

    Also want to show that homogeneous representatives exist.

    Also want to show that the degree of homogenous representatives are the same.

    TODO
\end{proof}

\begin{remark}
    In particular, considering the degrees of \( g_1, g_2 \) and \( g_3 \), one can see that the only non-zero degree of \( \toda{g_3, g_2, g_1 } \subseteq H^* \tuple{\Cc \tuple{X_1, X_4}} \) is in \( H^{d_3 + d_2 + d_1 - 1} \tuple{\Cc \tuple{X_1, X_4}} \).
\end{remark}

% SRC: Computations done on ReMarkable Massey Product/Definition Massey prod p2
\begin{remark}
    Comparing \autoref{def:massey_product_in_dg_cat/massey_product_definition/massey_product_dg_cat} and the definition for massey product in a DG category given by Jasso--Muro 2023 (TODO: Ref) in ``Definition 4.2.1'' with \( d = 1 \) we can see that both definitions agree.
\end{remark}

% TODO: Add definition for non-homogenous. Is there even a definition for non-homogenous?