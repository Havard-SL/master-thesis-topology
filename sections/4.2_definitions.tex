In this subsection, the goal is to define what a Massey product is.

We will use the following notation for the cohomology functor.

\begin{notation}
    Let \( R \) be a commutative ring with identity.

    We will write
    \[
        H^\bullet: \C \to \C
    \]
    for the chain cohomology functor, with the image being chain complexes with \( 0 \) as the differential.
\end{notation}

There is an issue with usual category theory notation of a ``diagram'' for DG-categories. This is because a DG-category does not have the notion of a morphism since there is no element of a chain complex. Therefore, there cannot be a diagram since the arrows would correspond to an element of a chain complex. However, having a notion of a diagram in a DG-category would make certain future results easier to both state and understand, at the cost of some difficulty in the proofs. This motivated the following notation.

\begin{notation}
    Let \( \Cc \) be a DG-category. A \emph{diagram in a DG-category} (or a \emph{DG-diagram}) is a quiver \( \Gamma = \tuple*{V, E, s, t} \) where every vertex in \( V \) corresponds to an object in \( \Cc \), and every edge \( e \in E \) corresponds to an element in \( \Cc\tuple*{s(e), t(e)}_n \) for some \( n \in \Zb \). These edges are called \emph{DG-morphisms} and \( n \) is called the \emph{degree} of \( e \), and is also denoted as \( |e| \).

    Two morphisms \( f, g \in E \) with \( s(g) = t(f) \), are said to be \emph{composable}. Their composition, denoted \( g \circ f \), is the morphism
    \[
        g \circ f := c_{\Cc, |g| + |f|}(g \otimes f) \in \Cc\tuple*{s(f), t(g)}_{|g| + |f|},
    \]
    where
    \[
        c_{\Cc} := \set*{c_{\Cc, i}}_{i \in \Zb}, \quad \text{with} \quad c_{\Cc, i}: \tuple*{ \Cc\tuple*{s(g), t(g)} \otimes \Cc\tuple*{s(f), t(f)} }_i \to \Cc\tuple*{s(f), t(g)}_i,
    \]
    is the composition chain morphism for \( \Cc \).
\end{notation}

Composition in a DG-diagram is essentially usual composition in the DG-category, but restricted to just one component of the coproduct.

In order to justify using this notation, we will prove some properties that will be helpful in future proofs. One such property is associativity.

\begin{lemma}[Associativity of composition in a DG-diagram]
    \label{lem:dg-composition_associative}
    Let the following be a DG-diagram in a DG-category \( \Cc \)
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{1cm} {
                A \& B \& C \& D. \\
            };

            \draw[math]
                (m-1-1) edge node {f} (m-1-2)
                (m-1-2) edge node {g} (m-1-3)
                (m-1-3) edge node {h} (m-1-4);
        \end{tikzpicture}
    \end{center}

    Then \( h \circ (g \circ f) = (h \circ g) \circ f \).
\end{lemma}
\begin{proof}
    In this proof, the notation will be simplified slightly for brevity.

    Expanding the definitions, it is necessary to show that the following equation holds
    \begin{equation}
        \label{eq:dg-composition_associative}
        c_{|h| + |g| + |f|}\tuple*{h \otimes \tuple*{c_{|g| + |f|}(g \otimes f)}} = c_{|h| + |g| + |f|}\tuple*{\tuple*{c_{|h| + |g|}(h \otimes g)} \otimes f}.
    \end{equation}
  
    Consider a ``column'' from the definition of the associativity chain morphism in the proof of \autoref{lem:c_sym_mon_closed} in degree \( |f| + |g| + |h| \), inverting the first and second isomorphism yields the following commutative diagram,
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{1cm} {
                ((A \otimes B) \otimes C)_{|f| + |g| + |h|} \\
                \coprod\limits_{i + j + k = |f| + |g| + |h|} (A_i \otimes B_j) \otimes C_k \\
                \coprod\limits_{i + j + k = |f| + |g| + |h|} A_i \otimes (B_j \otimes C_k) \\
                (A \otimes (B \otimes C))_{|f| + |g| + |h|}. \\
            };

            \draw[math]
                (m-2-1) edge (m-1-1)
                    
                (m-3-1) edge (m-4-1)
                    edge node[swap] {\coprod a_{\Mod(R)}} (m-2-1)

                (m-4-1) edge[shorten <=1cm, shorten >=1cm, curve={height=-5cm}] node[swap] {a_{\C}} (m-1-1);
        \end{tikzpicture}
    \end{center}
    By the universal property of the coproduct, the following diagram commutes,
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{1cm} {
                ((A \otimes B) \otimes C)_{|f| + |g| + |h|} \& (A \otimes B)_{|g| + |h|} \otimes C_{|f|} \\
                \coprod\limits_{i + j + k = |f| + |g| + |h|} (A_i \otimes B_j) \otimes C_k \& (A_{|h|} \otimes B_{|g|}) \otimes C_{|f|} \\
                \coprod\limits_{i + j + k = |f| + |g| + |h|} A_i \otimes (B_j \otimes C_k) \& A_{|h|} \otimes (B_{|g|} \otimes C_{|f|}) \\
                (A \otimes (B \otimes C))_{|f| + |g| + |h|} \& A_{|h|} \otimes (B \otimes C)_{|f| + |g|} \\
            };

            \draw[math]
                (m-1-2) edge node[swap] {\iota_{|g| + |h|, |f|}} (m-1-1)

                (m-2-1) edge[shorten >=5pt] (m-1-1)
                    
                (m-2-2) edge node[swap] {\iota_{|h|, |g|} \otimes \Id} (m-1-2)
                    edge node[swap] {\hat{\iota}_{|h|, |g|, |f|}} (m-2-1)

                (m-3-1) edge (m-4-1)
                    edge node[swap] {\coprod a_{\Mod(R)}} (m-2-1)
                (m-3-2) edge node[swap] {a_{\Mod(R)}} (m-2-2)
                    edge node[swap] {\tilde{\iota}_{|h|, |g|, |f|}} (m-3-1)
                    edge node {\Id \otimes \iota_{|g|, |f|}} (m-4-2)
                
                (m-4-1) edge[shorten <=1cm, shorten >=1cm, curve={height=-5cm}] node[swap] {a_{\C}} (m-1-1)
                (m-4-2) edge node{\iota_{|h|, |f| + |g|}} (m-4-1);
        \end{tikzpicture}
    \end{center}
    where \( \hat{\iota} \) and \( \tilde{\iota} \) are the canonical inclusions into the coproduct as expected.

    Rotating and mirroring the above diagram and letting \( A = \Cc(C, D), B = \Cc(B, C), \) and \( C = \Cc(A, B) \), and only considering the border of the diagram, we get the following commutative diagram,
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{0.45cm} {
                \Cc(C, D)_{|h|} \otimes \tuple*{ \Cc(B, C)_{|g|} \otimes \Cc(A, B)_{|f|} } \& \tuple*{ \Cc(C, D)_{|h|} \otimes \Cc(B, C)_{|g|} } \otimes \Cc(A, B)_{|f|} \\
                \Cc(C, D)_{|h|} \otimes \tuple*{ \Cc(B, C) \otimes \Cc(A, B) }_{|g| + |f|} \& \tuple*{ \Cc(C, D) \otimes \Cc(B, C) }_{|h| + |g|} \otimes \Cc(A, B)_{|f|} \\
                \tuple*{ \Cc(C, D) \otimes ( \Cc(B, C) \otimes \Cc(A, B) ) }_{|h| + |g| + |f|} \& \tuple*{ ( \Cc(C, D) \otimes \Cc(B, C) ) \otimes \Cc(A, B) }_{|h| + |g| + |f|}. \\
            };

            \draw[math]
                (m-1-1) edge node {a_{\Mod(R)}} (m-1-2)
                    edge node {\Id \otimes \iota_{|g|, |f|}} (m-2-1)
                (m-1-2) edge node {\iota_{|h|, |g|} \otimes \Id} (m-2-2)

                (m-2-1) edge node {\iota_{|h|, |g| + |f|}} (m-3-1)
                (m-2-2) edge node {\iota_{|h| + |g|, |f|}} (m-3-2)

                (m-3-1) edge node {a_{\C}} (m-3-2);
        \end{tikzpicture}
    \end{center}

    By \cite[Definition 6.2.1]{Borceux_1994} the following diagram of chain morphisms,
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{1cm} {
                \Cc(C, D) \otimes \tuple*{ \Cc(B, C) \otimes \Cc(A, B) } \& \& \tuple*{ \Cc(C, D) \otimes \Cc(B, C) } \otimes \Cc(A, B) \\
                \Cc(C, D) \otimes \Cc(A, C) \& \& \Cc(B, D) \otimes \Cc(A, B) \\
                \& \Cc(A, D), \\
            };
            
            \draw[math]
                (m-1-1) edge node {a} (m-1-3)
                    edge node {\Id \otimes c} (m-2-1)
                (m-1-3) edge node {c \otimes \Id} (m-2-3)

                (m-2-1) edge node {c} (m-3-2)
                (m-2-3) edge node[swap] {c} (m-3-2);
        \end{tikzpicture}
    \end{center}
    commutes.

    Gluing together the final two diagrams with the bottom diagram restricted to degree \( |h| + |g| + |f| \), and looking at where the element \( h \otimes (g \otimes f) \) is sent, yields exactly \eqref{eq:dg-composition_associative}.
\end{proof}

In addition to being associative, composition is also \( R \)-bilinear.

\begin{lemma}
    Composition in a DG-diagram is a morphism in \( \Mod(R) \), in particular, it is \( R \)-linear in both components.
\end{lemma}
\begin{proof}
    By definition, composition in a DG-diagram is the composition of the \( R \)-bilinear morphism that takes \( f \times g \mapsto f \otimes g \), as well as the \( \Mod(R) \) morphisms, \( \iota_{i, j} \) and \( c_{\Cc, i + j} \).
\end{proof}

Before defining Massey products, we first have to define the category the product is taken in.

\begin{definition}[Cohomology category, \( H^\bullet(\Cc) \)]
    \label{def:H_bullet_dg_category}
    Let \( \Cc \) be a DG-category over \( R \).

    Let \( H^\bullet(\Cc) \) be the following DG-category:
    \begin{enumerate}
        \item Let \( \Obj(H^\bullet(\Cc)) := \Obj(\Cc) \).
        \item For \( A, B \in H^\bullet(\Cc) \), let \( H^\bullet(\Cc)(A, B) := H^\bullet \tuple*{\Cc(A, B)} \).
        \item {
            For \( A, B, C \in H^\bullet(\Cc) \), define the composition morphism
            \begin{align*}
                c_{H^\bullet(\Cc)}: H^\bullet(\Cc)(B, C) \otimes H^\bullet(\Cc)(A, B) &\to H^\bullet(\Cc)(A, C)
            \end{align*}
            to be the chain morphism with the \( n \)th component being
            \begin{align*}
                c_n: (H^\bullet(\Cc)(B, C) \otimes H^\bullet(\Cc)(A, B))_n &\to H^n(\Cc(A, C)) \\
                [g_i] \otimes [f_j] &\mapsto \class*{g_i \circ f_j}
            \end{align*}
            for any \( i, j \in \Zb \) with \( i + j = n \) and \( [g_i] \in H^i(\Cc)(B, C) \) and \( [f_j] \in H^j(\Cc)(A, B) \).
        }
        \item {
            Let \( u: I_A \to \Cc(A, A) \) be the unit morphism for \( \Cc \).
            
            For \( A \in H^\bullet(\Cc) \), the unit morphism of \( H^\bullet(\Cc) \) is defined as the chain morphism
            \[
                H^\bullet(u): I \to H^\bullet(\Cc)(A, A).
            \]
        }
    \end{enumerate}

    Then \( H^\bullet(\Cc) \) is called the \emph{cohomology category of \( \Cc \)}.
\end{definition}

To show that composition is well-defined we will utilize the following remark.

\begin{remark}
    \label{rem:H_bullet_composition_alpha}
    The composition definition in \autoref{def:H_bullet_dg_category} is actually the composition of two different morphisms.

    Consider the maps
    \begin{align*}
        \alpha_{i, j}: H^i(\Cc(B, C)) \times H^j(\Cc(A, B)) &\to H^n(\Cc(B, C) \otimes \Cc(A, B)) \\
        ([g_i], [f_j]) &\mapsto \class*{g_i \otimes f_j}.
    \end{align*}
    Assuming these are well-defined \( R \)-bilinear morphisms, denote by \( a_n \) the unique morphism they define by \autoref{lem:map_out_of_tensor_unique}, and the entire chain morphism by \( \alpha := \set*{\alpha_i}_{i \in \Zb} \). \footnote{
        The map \( \alpha \) is known at the cross product morphism, as explained in \cite[p.\ 273]{Hatcher_2002}. In addition, for \( R \) a field (as is assumed in \cite{Jasso-Muro_2023}) it is known that by the Algebraic Künneth Theorem that \( \alpha \) is an isomorphism \cite[Theorem 3B.5]{Hatcher_2002}.
    }
    
    Then we can see that
    \[
        c_{H^\bullet(\Cc)} := H^\bullet(c_{\Cc}) \circ \alpha.
    \] 
\end{remark}

Using the above remark, since \( H^{\bullet}(c_{\Cc}) \) is already a well-defined morphism, it is only necessary to show that \( \alpha \) exists, is well-defined and is unique.

\begin{remark}
    \label{rem:composition_in_H_bullet_is_well_defined}
    The composition definition in \autoref{def:H_bullet_dg_category} is well-defined and unique by the following argument.

    By \autoref{rem:H_bullet_composition_alpha} it is sufficient to only have to verify that the \( \alpha_{i, j} \) are well-defined and \( R \)-bilinear in order to show that \( c_{H^\bullet(\Cc)} \) is well-defined and unique.

    We can check that the maps are \( R \)-bilinear, but we still need to check if the maps are well-defined, which is a bit more difficult. There are two points that need to be shown:
    \begin{enumerate}
        \item {
            We need to show that
            \[
                g_i \otimes f_j \in H^n(\Cc(B, C) \otimes \Cc(A, B)).
            \]
            To show this, we have to verify that
            \[
                g_i \otimes f_j \in \ker(d_{\Cc(B, C) \otimes \Cc(A, B), n}).
            \]
            This is true because, by assumption, both \( g_i \) and \( f_j \) are cycles, and by definition of the differential of the tensor product
            \[
                d_{\Cc(B, C) \otimes \Cc(A, B), n}(g_i \otimes f_j) = 0.
            \]
        }
        \item {
            We need to show that the values of the \( \alpha_{i, j} \) are independent of the choice of representative.

            Let \( b_g \) be a boundary in \( \Cc(B, C)_i \), and let \( b_f \) be a boundary in \( \Cc(A, B)_j \). Then
            \begin{align*}
                \alpha_{i, j}([g_i + b_g], [f_j + b_f]) &= [(g_i + b_g) \otimes (f_j + b_f)] \\
                &= [g_i \otimes f_j + g_i \otimes b_f + b_g \otimes f_j + b_g \otimes b_f] \\
                &= [g_i \otimes f_j + g_i \otimes b_f + b_g \otimes f_j + b_g \otimes b_f].
            \end{align*}
            By the definition of the differential of the tensor product, we have that the tensor product between a boundary and a cycle, a cycle and a boundary, and a boundary and a boundary are all boundaries in the tensor product.

            As an example, consider the case above of \( g_i \otimes b_f \). Since \( b_f \) is a boundary in \( \Cc(A, B)_j \), there is some \( b_f' \in \Cc(A, B)_{j - 1} \) such that \( d_{\Cc(A, B), j - 1}(b_f') = b_f \). Thus,
            \begin{align*}
                d_{\Cc(B, C) \otimes \Cc(A, B)}(&(-1)^i g_i \otimes b_f') \\
                &= (-1)^i d_{\Cc(B, C), i}(g_i) \otimes b_f' + (-1)^i (-1)^i g_i \otimes d_{\Cc(A, B), j - 1}(b_f') \\
                &= (-1)^i 0 \otimes b_f' + g_i \otimes b_f \\
                &= g_i \otimes b_f.
            \end{align*}
            A similar argument can be made for the other cases.

            Hence,
            \[
                \alpha_{i, j}([g_i + b_g], [f_j + b_f]) = [g_i \otimes f_j + g_i \otimes b_f + b_g \otimes f_j + b_g \otimes b_f] = [g_i \otimes f_j]
            \]
            and so \( \alpha_{i, j} \) is well-defined.
        }
    \end{enumerate}
    There is no need to verify if the composition is a chain morphism, since the differential of \( H^\bullet(\Cc)(A, C) \) is zero by definition.
\end{remark}

This thesis will refrain from proving that the above definition of \( H^\bullet(\Cc) \) and any future alleged DG-category actually satisfy the associativity axiom and the unit axiom as defined by \cite[Definition 6.2.1]{Borceux_1994}. The proofs of the two axioms are often obvious, and is more of a technical detail than a necessity for our use case. The proof of these two axioms would almost certainly rely on some version of \autoref{lem:map_out_of_tensor_unique}.
% This is because doing so would require defining the associativity morphism (properly), as well as the left and right tensor unit, only to do proofs that are straight forward to prove using the lemmas already defined. Defining the morphisms and doing the proofs would require a lot of boilerplate for something that, in the end, is not necessary for the goal of this thesis.

The following is the definition of the Massey product in the cohomology category of any DG-category. The definition is the 3-fold variant of \cite[Definition 4.2.1]{Jasso-Muro_2023}.

\begin{definition}
    \label{def:massey_product_dg_cat}
    Let \( \Cc \) be a DG-category over a commutative ring with identity \( R \).

    Let 
    \begin{center}
        \begin{tikzpicture}
            \diagram{m}{1cm}{1cm} {
                X_1 \& X_2 \& X_3 \& X_4 \\
            };

            \draw[math]
                (m-1-1) edge node {[f_1]} (m-1-2)
                (m-1-2) edge node {[f_2]} (m-1-3)
                (m-1-3) edge node {[f_3]} (m-1-4);
        \end{tikzpicture}
    \end{center}
    be a DG-diagram in \( H^\bullet(\Cc) \).

    Furthermore, for any \( n \in \Zb \), and \( h \in \C_n \) (like a morphism in a DG-diagram), let \( \bar{h} := (-1)^{n + 1}h \).

    The \emph{Massey product of \( [f_3], [f_2] \) and \( [f_1] \)} is defined as
    \begin{multline*}
        \massey{[f_3], [f_2], [f_1]} :=
        \{
            \class*{
                \bar{s} \circ g_1 + \bar{g_3} \circ t
            }
            \mid [g_i] = [f_i], i = 1, 2, 3 \quad \\
            d_{\Cc, |f_3| + |f_2| - 1}(s) = \bar{g_3} \circ g_2, \,
            d_{\Cc, |f_2| + |f_1| - 1}(t) = \bar{g_2} \circ g_1
        \}.
    \end{multline*}

    This is a subset of \( H^{|f_1| + |f_2| + |f_3| - 1}\tuple*{\Cc\tuple*{X_1, X_4}} \).
\end{definition}

The following remark shows that the Massey product in the above definition is well-defined.

\begin{remark}
    The definition of Massey product in \autoref{def:massey_product_dg_cat} is well-defined by the following argument:

    We want to show that \( \bar{s} \circ g_1 + \bar{g_3} \circ t \) is a cocycle in \( \Cc(X_1, X_4)_{|g_1| + |g_2| + |g_3| - 1} \).

    Let \( n := |g_1| + |g_2| + |g_3| \), and omit the degrees of the differentials for readability. Consider the following equation
    \begin{align*}
        &d_{\Cc(X_1, X_4)}(\bar{s} \circ g_1 + \bar{g_3} \circ t) \\
        &= d_{\Cc(X_1, X_4)}(\bar{s} \circ g_1) + d_{\Cc(X_1, X_4)}(\bar{g_3} \circ t) \\
        \intertext{by the definition of composition of morphisms in a DG-diagram,}
        &= d_{\Cc(X_1, X_4)}(c_{\Cc, n - 1}(\bar{s} \otimes g_1)) + d_{\Cc(X_1, X_4)}(c_{\Cc, n - 1}(\bar{g_3} \otimes t)) \\
        \intertext{by composition being a chain morphism,}
        &= c_{\Cc, n}(d_{\Cc(X_2, X_4) \otimes \Cc(X_1, X_2)}(\bar{s} \otimes g_1)) + c_{\Cc, n}(d_{\Cc(X_3, X_4) \otimes \Cc(X_1, X_3)}(\bar{g}_3 \otimes t))
        \intertext{by the definition of the differential of the tensor products,}
        &= c_{\Cc, n}((-1)^{|g_2| + |g_3|}(\bar{g}_3 \circ g_2) \otimes g_1) + c_{\Cc, n}((-1)^{|g_3|}\bar{g}_3 \otimes (\bar{g}_2 \circ g_1)) \\
        \intertext{pulling out every sign,}
        &= (-1)^{|g_2| + 2|g_3| - 1}c_{\Cc, n}((g_3 \circ g_2) \otimes g_1) + (-1)^{|g_2| + 2|g_3| - 2}c_{\Cc, n}(g_3 \otimes (g_2 \circ g_1)) \\
        \intertext{by the definition of composition of morphisms in a DG-diagram,}
        &= (-1)^{|g_2| + 2|g_3| - 1}(g_3 \circ g_2) \circ g_1 + (-1)^{|g_2| + 2|g_3| - 2}g_3 \circ (g_2 \circ g_1) \\
        \intertext{simplifying the signs,}
        &= (-1)^{|g_2|}\tuple*{ g_3 \circ (g_2 \circ g_1) - (g_3 \circ g_2) \circ g_1 } \\
        \intertext{by \autoref{lem:dg-composition_associative},}
        &= 0.
    \end{align*}
\end{remark}

The observant reader may notice that nowhere in the definition of a Massey product does it state or imply that the cohomology category of \( \Cc \), \( H^\bullet(\Cc) \), is triangulated. This is necessary in order to compare Massey products to Toda brackets. However, by moving over to the category of ``DG-modules'' which will be defined in the next section, we can define Massey products on a big class of triangulated categories, namely the ``algebraic triangulated categories.''

Massey products are often associated with Borromean rings, since by \cite[p.\ 191 -- 195]{Massey_1998}, it is a known invariant that proves that the complement of the Borromean rings embedded into \( \Rb^3 \) is not homotopy equivalent to \( \Rb^3 \), and they can therefore not be pulled apart. This is done by letting \( \Cc \) be a DG-category consisting of only one object, \( * \), where \( \Cc(*, *) \) is the cochain complex of a topological space (here it is the complement of the Borromean rings embedded into \( \Rb^3 \)), with composition being the cup product of cochains. Hence, \( H^{\bullet} (\Cc) \) is exactly the graded cohomology algebra of the topological space, as well as a valid category to calculate Massey products in.
